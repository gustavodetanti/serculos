(()=>{var m=1018;function E(e,t){let o=window.innerWidth,u=window.innerHeight,r=u/3-10;o<u&&(r=o/3-10);let a,n=!1,d=!1;e.style.width=`${r}px`,e.style.height=`${r}px`,e.style.transition=`transform ${m*10}ms ease-in-out`;let w=c()/2+.5;e.style.transform=`scale(${w})`;let p=t.length,h=c(p),y=1,g=0;e.innerHTML="",e.addEventListener("click",I,!1),x();function x(){if(n||d)return;[...e.querySelectorAll("img")].forEach(q=>{q.classList.add("toRemove")});let l=new Image;l.classList.add("hidden"),l.style.width=`${r}px`,l.style.height=`${r}px`,l.onload=()=>{n||d||(a=setTimeout(()=>{l.classList.remove("hidden"),l.style.transition=`opacity ${m/1e3}s linear`,w=c()/2+.5,e.style.transform=`scale(${w})`,g+=5,g>=360&&(g-=360),c(100)<5?(console.warn("stop"),a=setTimeout($,m*5*(1+c(10)/5))):a=setTimeout($,m*(1+c(10)/5))},100))},e.appendChild(l),l.src=t[h].src}function I(s){s&&s.preventDefault(),d=!d,console.log({paused:d}),d?(e.style.transform=`scale(${1})`,clearTimeout(a)):x()}function $(){d||n||([...e.querySelectorAll(".toRemove")].forEach(s=>{try{s.parentNode.removeChild(s)}catch(l){}}),h+=y,c(4)<1&&(y=y==-1?1:-1),h<0&&(h=p-1),h>p-1&&(h=0),x())}function c(s){return isNaN(s)?Math.random():parseInt(Math.random()*s)}function D(s){return s+1}function M(){n=!0,d=!0,clearTimeout(a)}return{end:M,div:e}}function L(e,t,o,u){let r=new FormData;if(u&&o)r.append("com",u),r.append("data",JSON.stringify(o)),fetch(e,{body:r,method:"post"}).then(n=>n.json()).then(n=>{t&&t(n)}).catch(n=>{console.log(n),t&&t({error:"error de datos leyendo "+e})});else if(o){for(var a in o)r.append(a,o[a]);fetch(e,{body:r,method:"post"}).then(n=>n.json()).then(n=>{t&&t(n)}).catch(n=>{console.log(n),t&&t({error:"error de datos leyendo "+e})})}else fetch(e).then(n=>n.json()).then(n=>{t&&t(n)}).catch(n=>{console.log(n),t&&t({error:"error de datos leyendo "+e})})}var T;var i,S=[],f;window.addEventListener("DOMContentLoaded",e=>{i=document.querySelector(".serculos");let t=window.innerWidth;f=t;let o=window.innerHeight;H=o,t<o?(i.style.width=t+"px",i.style.margin=` ${(o-t)/2}px 0`):(i.style.width=o+"px",i.style.margin="0 auto"),C()});window.addEventListener("resize",e=>{let t=window.innerWidth,o=window.innerHeight;t!=f&&(f=t,H=o,A())});var v;function A(){clearTimeout(v),v=setTimeout(()=>{S.forEach(e=>{e.end(),i.removeChild(e.div)}),S=[],f<H?(i.style.width=f+"px",i.style.margin=` ${(H-f)/2}px 0`):(i.style.width=H+"px",i.style.margin="0 auto"),C()},100)}function C(){for(let e=0;e<9;e++){let t=document.createElement("div");t.classList.add("js-app"),t.classList.add("target"),i.appendChild(t)}T=[...i.querySelectorAll(".js-app")],L("images.json",e=>{console.log(e),T.forEach(function(t){S.push(E(t,e))})})}})();
